"use strict";(self.webpackChunkservice_now_next_experience_github_io=self.webpackChunkservice_now_next_experience_github_io||[]).push([[142],{11584:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>a});var s=i(74848),t=i(28453);const r={id:"overview",title:"Exercise 4 Overview",pagination_label:"Exercise 4 Overview",sidebar_label:"Overview",hide_table_of_contents:!0,draft:!1},o="Exercise 4: Dynamic List Declarative Action",c={id:"ex4/overview",title:"Exercise 4 Overview",description:"In this exercise you'll add a new declarative action to a list that is only available when the records selected meet certain conditions.",source:"@site/labs/CCL1200-K24-Adv-Workspaces/ex4/0-overview.md",sourceDirName:"ex4",slug:"/ex4/overview",permalink:"/labs/CCL1200-K24-Adv-Workspaces/ex4/overview",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"overview",title:"Exercise 4 Overview",pagination_label:"Exercise 4 Overview",sidebar_label:"Overview",hide_table_of_contents:!0,draft:!1},sidebar:"examplelab",previous:{title:"Exercise 3 Overview",permalink:"/labs/CCL1200-K24-Adv-Workspaces/ex3/overview"},next:{title:"Exercise 5 Overview",permalink:"/labs/CCL1200-K24-Adv-Workspaces/ex5/overview"}},l={},a=[{value:"Goal",id:"goal",level:2},{value:"Create the action",id:"create-the-action",level:2},{value:"Test",id:"test",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"exercise-4-dynamic-list-declarative-action",children:"Exercise 4: Dynamic List Declarative Action"}),"\n",(0,s.jsx)(n.p,{children:"In this exercise you'll add a new declarative action to a list that is only available when the records selected meet certain conditions."}),"\n",(0,s.jsx)(n.h2,{id:"goal",children:"Goal"}),"\n",(0,s.jsx)(n.p,{children:"In this exercise, you'll create a list button that allows the user to assign Priority 5 incidents to themselves."}),"\n",(0,s.jsx)(n.h2,{id:"create-the-action",children:"Create the action"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Change your application scope to ",(0,s.jsx)(n.strong,{children:"Service Operations Workspace ITSM Applications"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In your Classic environment browser tab, go to ",(0,s.jsx)(n.strong,{children:"All > Now Experience Framework > Declarative Actions > Create New Action"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Choose ",(0,s.jsx)(n.strong,{children:"List"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Fill out the form that comes up as follows:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Action label: ",(0,s.jsx)(n.strong,{children:"Assign to me"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Action name: ",(0,s.jsx)(n.strong,{children:"acme_assign_to_me"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Table: ",(0,s.jsx)(n.strong,{children:"Incident [incident]"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Experience Restricted: ",(0,s.jsx)(n.strong,{children:"true"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Record Selection Required: ",(0,s.jsx)(n.strong,{children:"true"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://servicenow-events-or-lab-guidebo.gitbook.io/~gitbook/image?url=https%3A%2F%2F292040176-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F0la4ZJXmrgp1xVmGUG6L%252Fuploads%252FUpEXz3rBFaPvDu3xqxPv%252FCleanShot%25202024-04-23%2520at%252010.22.42%25402x.png%3Falt%3Dmedia%26token%3D3e4c6289-0d3f-4c4b-8b57-d0a845c7621b&width=768&dpr=4&quality=100&sign=30661011f98778d15fe9bf3c856ebe6155523a39619ac93ca10d41d0bbf61594",alt:""})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Right-click"})," on the form header and choose ",(0,s.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Switch to the ",(0,s.jsx)(n.strong,{children:"Advanced View"})," using the related link under the form."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.em,{children:"Conditions"})," form tab, set the following:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Enable Dynamic Evaluation: ",(0,s.jsx)(n.strong,{children:"true"})," (this will show the next two fields)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Dynamic Script Condition:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"current.active && current.assigned_to.canWrite()\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Dynamic Record Conditions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Priority | is | 5 - Planning"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://servicenow-events-or-lab-guidebo.gitbook.io/~gitbook/image?url=https%3A%2F%2F292040176-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F0la4ZJXmrgp1xVmGUG6L%252Fuploads%252F12ZMbeEvRztZQcJIj32X%252FCleanShot%25202024-04-23%2520at%252010.46.25%25402x.png%3Falt%3Dmedia%26token%3D4f12847d-8543-4919-b50d-7e41e3da8497&width=768&dpr=4&quality=100&sign=a782209e293c9b3ca665a01060a57c8a87da8a6196424359a88f158712915ee4",alt:""})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Set the following Server Script:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"assignToMe();\n\nfunction assignToMe() {\n\n    if (!current.active || !current.assigned_to.canWrite()) {\n        gs.addErrorMessage(gs.getMessage('{0}, You do not have permission to update assigned to', [current.number]));\n        return;\n    }\n\n    current.assigned_to = gs.getUserID();\n    current.update();\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Right-click"})," on the form header and choose ",(0,s.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Now, since you chose Experience Restricted is true, you need to associate this action with SOW. Scroll down to the ",(0,s.jsx)(n.strong,{children:"Action Configuration"})," Related List and choose ",(0,s.jsx)(n.strong,{children:"Edit"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Move ",(0,s.jsx)(n.strong,{children:"SOW Actions"})," to the right and ",(0,s.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://servicenow-events-or-lab-guidebo.gitbook.io/~gitbook/image?url=https%3A%2F%2F292040176-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F0la4ZJXmrgp1xVmGUG6L%252Fuploads%252FTOAzGTZOoIrQMZyhZ9Ja%252FCleanShot%25202024-04-23%2520at%252010.30.54%25402x.png%3Falt%3Dmedia%26token%3D4491b07e-b800-422a-8fb6-a499351d6efd&width=768&dpr=4&quality=100&sign=eeb7d9d55f96cbc331d193c41c2a266cf7bab6d5df2d91ee3c63496d194dff0b",alt:""})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"test",children:"Test"}),"\n",(0,s.jsx)(n.p,{children:"Now you'll test to make sure this works."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Workspaces > Service Operations Workspace"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click the ",(0,s.jsx)(n.img,{src:"https://servicenow-events-or-lab-guidebo.gitbook.io/~gitbook/image?url=https%3A%2F%2F292040176-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F0la4ZJXmrgp1xVmGUG6L%252Fuploads%252FOhjbiI70HgFtP8lkdvyj%252FCleanShot%25202024-04-23%2520at%252010.51.36%25402x.png%3Falt%3Dmedia%26token%3D1eb3f863-6f4a-4685-af37-11e7a9fc97aa&width=38&dpr=4&quality=100&sign=dad301be91063c521d69e06350b44be6cd8c7f14d5e77e49be29c7aa341b4d08",alt:""})," List icon in the left menu."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Scroll down and choose ",(0,s.jsx)(n.strong,{children:"Incidents > Open"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You should see your new ",(0,s.jsx)(n.em,{children:"ACME Assign to me"})," button grayed out in the action bar. Select the checkbox next to a Priority 5 incident and you should see the button become selectable."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Check an incident with a different priority and see if it becomes grayed out again."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Select only a few Priority 5 incidents and click the button. The list should refresh and they'll be assigned to you."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var s=i(96540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);